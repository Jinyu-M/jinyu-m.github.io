
<!DOCTYPE html>
<html>
  <head>
    
<meta charset="utf-8" >

<title>Git指令 | 年少万兜鍪</title>
<meta name="description" content="少年吔
尘世恰好，有诗有酒刚好吐槽">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://jinyu-m.github.io/favicon.ico?v=1629857552668">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://jinyu-m.github.io/styles/main.css">



<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>



  </head>
  <body>
    <div id="app" class="main">
      <div class="site-header-container">
  <div class="site-header">
    <div class="left">
      <a href="https://jinyu-m.github.io">
        <img class="avatar" src="https://jinyu-m.github.io/images/avatar.png?v=1629857552668" alt="" width="32px" height="32px">
      </a>
      <a href="https://jinyu-m.github.io">
        <h1 class="site-title">年少万兜鍪</h1>
      </a>
    </div>
    <div class="right">
      <transition name="fade">
        <i class="icon" :class="{ 'icon-close-outline': menuVisible, 'icon-menu-outline': !menuVisible }" @click="menuVisible = !menuVisible"></i>
      </transition>
    </div>
  </div>
</div>

<transition name="fade">
  <div class="menu-container" style="display: none;" v-show="menuVisible">
    <div class="menu-list">
      
        
          <a href="/" class="menu purple-link">
            首页
          </a>
        
      
        
          <a href="/archives" class="menu purple-link">
            文章
          </a>
        
      
        
          <a href="/tags" class="menu purple-link">
            标签
          </a>
        
      
        
          <a href="/post/about" class="menu purple-link">
            关于
          </a>
        
      
    </div>
  </div>
</transition>


      <div class="content-container">
        <div class="post-detail">
          
          <h2 class="post-title">Git指令</h2>
          <div class="post-info post-detail-info">
            <span><i class="icon-calendar-outline"></i> 2021-08-13</span>
            
          </div>
          <div class="post-content">
            <p><a href="https://liaoxuefeng.gitee.io/resource.liaoxuefeng.com/git/git-cheat-sheet.pdf">Git Cheat Sheet</a></p>
<h1 id="git-安装">git 安装</h1>
<p><code>sudo apt-get install git</code></p>
<h1 id="git-设置">git 设置</h1>
<p>设置用户名 <code>git config --global user.name &quot;Your Name&quot;</code><br>
设置邮箱 <code>git config --global user.email &quot;Your Email&quot;</code><br>
查看用户名 <code>git config user.name</code><br>
查看邮箱 <code>git config user.email</code><br>
查看密码 <code>git config user.password</code><br>
查看配置信息 <code>git config --list</code><br>
设置显示颜色 <code>git config --global color.ui true</code></p>
<h1 id="版本库管理">版本库管理</h1>
<p>初始化 <code>git init</code><br>
添加文件到版本库 <code>git add &lt;file name&gt;</code><br>
提交文件到版本库 <code>git commit -m &quot;some message&quot;</code><br>
查看版本库当前状态 <code>git status</code><br>
查看修改内容 <code>git diff</code><br>
查看版本库的历史记录 <code>git log [--pretty=oneline]</code><br>
当前版本 <code>HEAD</code><br>
上一个版本 <code>HEAD^</code><br>
往前第100个版本 <code>HEAD~100</code><br>
回到上个版本 <code>git reset --hard HEAD^</code><br>
回到某个版本 <code>git reset --hard &lt;commit id&gt;</code><br>
查看命令记录及commit id <code>git reflog</code><br>
查看工作区和版本库里最新版本的区别 <code>git diff HEAD -- &lt;file name&gt;</code><br>
丢弃工作区的修改，撤回到最近一个commit或add时的状态 <code>git checkout -- &lt;file name&gt;</code><br>
撤销暂存区的修改，将其重新放回工作区 <code>git reset HEAD &lt;file name&gt;</code><br>
从版本库中删除文件 <code>git rm &lt;file name&gt;</code></p>
<h1 id="远程库管理">远程库管理</h1>
<p>将本地的版本库与远程库关联(远程库名字为<code>origin</code>) <code>git remote add origin git@github.com:&lt;host name&gt;/&lt;repo name&gt;.git</code><br>
将本地库的<code>master</code>分支上的内容推送到远程库(<code>-u</code>会将本地的<code>master</code>分支和远程库的<code>master</code>分支关联起来，第一次推送时使用) <code>git push [-u] origin master</code><br>
查看远程库信息 <code>git remote [-v]</code><br>
删除远程库(删除的是本地库与远程库的绑定关系) <code>git remote rm &lt;remote repo name&gt;</code><br>
克隆远程库到本地库(<code>ssh</code>协议最快) <code>git clone git@github.com:&lt;host name&gt;/&lt;repo name&gt;.git</code></p>
<h1 id="分支管理">分支管理</h1>
<p>git中主分支为<code>master</code>，<code>HEAD</code>指向当前分支，<code>master</code>指向提交，当只有一个主分支时，<code>HEAD</code>指向<code>master</code>：<br>
<img src="https://jinyu-m.github.io/post-images/1628849837802.png" alt="" loading="lazy"><br>
创建分支 <code>git branch &lt;branch name&gt;</code><br>
切换到分支 <code>git checkout &lt;branch name&gt;</code>或<code>git switch &lt;branch name&gt;</code><br>
创建并切换到分支 <code>git checkout -b &lt;branch name&gt;</code>或<code>git switch -c &lt;branch name&gt;</code><br>
查看分支(当前分支前会有一个<code>*</code>号) <code>git branch</code><br>
<img src="https://jinyu-m.github.io/post-images/1628850071655.png" alt="" loading="lazy"><br>
在<code>dev</code>分支上进行修改并提交<br>
<img src="https://jinyu-m.github.io/post-images/1628850113696.png" alt="" loading="lazy"><br>
切换回<code>master</code>分支 <code>git checkout master</code>或<code>git switch master</code><br>
<img src="https://jinyu-m.github.io/post-images/1628850212121.png" alt="" loading="lazy"><br>
将指定分支上的改动合并到<code>master</code>分支上(Fast forward模式，删除分支后，会丢掉分支信息) <code>git merge &lt;branch name&gt;</code><br>
<img src="https://jinyu-m.github.io/post-images/1628850302397.png" alt="" loading="lazy"><br>
如果不使用Fast forward模式合并分支，会在merge的时候生成一个commit信息 <code>git merge --no-ff -m &quot;some message&quot; &lt;branch name&gt;</code><br>
<img src="https://jinyu-m.github.io/post-images/1628851101808.png" alt="" loading="lazy"><br>
删除指定分支 <code>git branch -d &lt;branch name&gt;</code><br>
强行删除一个没有被合并过的分支 <code>git branch -D &lt;branch name&gt;</code><br>
<img src="https://jinyu-m.github.io/post-images/1628850345460.png" alt="" loading="lazy"><br>
如果在两个分支上分别有新的提交，git无法快速合并，需要解决冲突<br>
<img src="https://jinyu-m.github.io/post-images/1628850643395.png" alt="" loading="lazy"><br>
手动编辑解决冲突后，重新提交<br>
<img src="https://jinyu-m.github.io/post-images/1628850734022.png" alt="" loading="lazy"><br>
查看分支的合并情况 <code>git log --graph [--pretty=oneline] [--abbrev-commit]</code><br>
把本地未push的分叉提交历史整理成直线 git rebase``</p>
<h2 id="bug分支">Bug分支</h2>
<p>保存工作区的现场 <code>git stash</code><br>
查看保存的工作区现场 <code>git stash list</code><br>
恢复工作区现场 <code>git stash apply</code><br>
删除保存的工作区现场 <code>git stash drop</code><br>
恢复并删除工作区现场 <code>git stash pop</code><br>
恢复指定的stash <code>git stash apply stash@{&lt;stash index&gt;}</code><br>
复制指定的提交到当前分支上 <code>git cherry-pick &lt;commit id&gt;</code></p>
<h2 id="多人协作相关">多人协作相关</h2>
<p>一般而言，<code>master</code>分支是主分支，需要与远程库同步；<code>dev</code>分支是开发分支，团队成员需要在该分支工作，应与远程库同步；Bug分支用于在本地修复bug，无需推到远程库；feature分支是否推到远程库取决于团队是否在其上合作开发。</p>
<h2 id="抓取分支">抓取分支</h2>
<p><code>git clone</code>后，一般只能看到本地的master分支<br>
创建远程<code>origin</code>的分支到本地 <code>git checkout -b &lt;branch name&gt; origin/&lt;branch name&gt;</code><br>
推送自己的修改 <code>git push origin &lt;branch name&gt;</code><br>
如果推送失败，是因为远程分支比本地更新，用<code>git pull</code>将最新的提交抓取下来(如果没有指定本地分支与远程分支的链接，<code>git pull</code>会失败，需要<code>git branch --set-upstream-to=origin/&lt;branch name&gt; &lt;branch name&gt;</code>)<br>
解决冲突后，就可以<code>gt push origin &lt;branch name&gt;</code>推送了</p>
<h1 id="标签管理">标签管理</h1>
<p>给最新提交的commit打标签 <code>git tag &lt;tag&gt;</code><br>
给某次提交的commit打标签 <code>git tag &lt;tag&gt; &lt;commit id&gt;</code><br>
查看标签 <code>git tag</code><br>
查看标签信息 <code>git show &lt;tag&gt;</code><br>
创建带有说明的标签 <code>git tag -a &lt;tag&gt; -m &quot;some message&quot; &lt;commit id&gt;</code><br>
删除标签 <code>git tag -d &lt;tag&gt;</code><br>
推送某个标签到远程库 <code>git push origin &lt;tag&gt;</code><br>
推送所有标签到远程库 <code>git push origin --tags</code><br>
删除远程标签 <code>git push origin :refs/tags/&lt;tag&gt;</code></p>

          </div>
        </div>

        
          <div class="next-post">
            <a class="purple-link" href="https://jinyu-m.github.io/post/networkmodelalgorithm/">
              <h3 class="post-title">
                下一篇：Network/Model/Algorithm
              </h3>
            </a>
          </div>
          
      </div>

      

      <div class="site-footer">
  <div class="slogan">少年吔
尘世恰好，有诗有酒刚好吐槽</div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://jinyu-m.github.io/atom.xml" target="_blank">RSS</a>
</div>


    </div>
    <script type="application/javascript">

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>




  </body>
</html>
